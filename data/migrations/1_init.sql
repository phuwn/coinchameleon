CREATE TABLE market (
	pair_id VARCHAR2(50) NOT NULL,
	ts DATE,
	open_price REAL,
	high_price REAL,
	low_price REAL,
	close_price REAL,
	volume REAL,
	PRIMARY KEY(pair_id, ts)
)
PARTITION BY RANGE(ts) 
(
PARTITION prices_jan2020 VALUES LESS THAN(TO_DATE('01/02/2020','DD/MM/YYYY')),
PARTITION prices_feb2020 VALUES LESS THAN(TO_DATE('01/03/2020','DD/MM/YYYY')),
PARTITION prices_mar2020 VALUES LESS THAN(TO_DATE('01/04/2020','DD/MM/YYYY')),
PARTITION prices_apr2020 VALUES LESS THAN(TO_DATE('01/05/2020','DD/MM/YYYY')),
PARTITION prices_may2020 VALUES LESS THAN(TO_DATE('01/06/2020','DD/MM/YYYY')),
PARTITION prices_jun2020 VALUES LESS THAN(TO_DATE('01/07/2020','DD/MM/YYYY')),
PARTITION prices_jul2020 VALUES LESS THAN(TO_DATE('01/08/2020','DD/MM/YYYY')),
PARTITION prices_aug2020 VALUES LESS THAN(TO_DATE('01/09/2020','DD/MM/YYYY')),
PARTITION prices_sep2020 VALUES LESS THAN(TO_DATE('01/10/2020','DD/MM/YYYY')),
PARTITION prices_oct2020 VALUES LESS THAN(TO_DATE('01/11/2020','DD/MM/YYYY')),
PARTITION prices_nov2020 VALUES LESS THAN(TO_DATE('01/12/2020','DD/MM/YYYY')),
PARTITION prices_dec2020 VALUES LESS THAN(TO_DATE('01/01/2021','DD/MM/YYYY')),
PARTITION prices_jan2021 VALUES LESS THAN(TO_DATE('01/02/2021','DD/MM/YYYY')),
PARTITION prices_feb2021 VALUES LESS THAN(TO_DATE('01/03/2021','DD/MM/YYYY')),
PARTITION prices_mar2021 VALUES LESS THAN(TO_DATE('01/04/2021','DD/MM/YYYY')),
PARTITION prices_apr2021 VALUES LESS THAN(TO_DATE('01/05/2021','DD/MM/YYYY')),
PARTITION prices_may2021 VALUES LESS THAN(TO_DATE('01/06/2021','DD/MM/YYYY')),
PARTITION prices_jun2021 VALUES LESS THAN(TO_DATE('01/07/2021','DD/MM/YYYY')),
PARTITION prices_jul2021 VALUES LESS THAN(TO_DATE('01/08/2021','DD/MM/YYYY')),
PARTITION prices_aug2021 VALUES LESS THAN(TO_DATE('01/09/2021','DD/MM/YYYY')),
PARTITION prices_sep2021 VALUES LESS THAN(TO_DATE('01/10/2021','DD/MM/YYYY')),
PARTITION prices_oct2021 VALUES LESS THAN(TO_DATE('01/11/2021','DD/MM/YYYY')),
PARTITION prices_nov2021 VALUES LESS THAN(TO_DATE('01/12/2021','DD/MM/YYYY')),
PARTITION prices_dec2021 VALUES LESS THAN(TO_DATE('01/01/2022','DD/MM/YYYY'))
);

CREATE INDEX market_ts_idx ON market(ts);